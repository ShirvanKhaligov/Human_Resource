@model EmployeeDeviceVm
@{
    ViewData["Title"] = "Index";
}
<style>


    .btn-success {
        background-color: #2590d3 !important;
        border-color: #2590d3 !important;
    }

    .btn-primary {
        background-color: #2590d3 !important;
        border-color: #2590d3 !important;
    }

    .btn-warning {
        background-color: #2590d3 !important;
        border-color: #2590d3 !important;
    }

    .btn-danger {
        background-color: #2590d3 !important;
        border-color: #2590d3 !important;
    }
</style>
<div class="content-wrapper">
    <div class="">
        <div class="card All_Index_View_Change_Card" style="background-color: #f4f6f9;">
            <div class="card-header All_Index_View_Change_Card_Header">
                <p class="All_Index_View_Change_P">İşçilərin qurğuları</p>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12">
                        <a asp-area="InternalHR" asp-controller="EmployeeDevice" asp-action="Create" class="btn btn-success">İşçiyə qurğu əlavə et <i class=" fas fa-plus"></i></a>
                    </div>
                </div>
                <br><br>
                <div class="row">
                    <div class="col-md-12 mx-auto">
                        <div style="height:600px;overflow-y:scroll;" class="table-responsive">
                            <table class="table table-hover table-responsive-md " style=" color: black;">
                                <thead style="text-align: center" class="All_Index_View_Change_Thead">
                                    <tr class="All_Index_View_Change_Tr">
                                        <th scope="col"> Sıra №</th>
                                        <th scope="col"> Soyadı,Adı,Ata adı</th>
                                        <th scope="col"> Ş\V seriyası</th>
                                        <th scope="col"> Vəzifəsi</th>
                                        <th scope="col"> Qurğunun növü</th>
                                        <th scope="col"> Qurğunun kodu</th>
                                        <th scope="col"> Verilmə tarixi</th>
                                        <th scope="col"> Qaytarılma tarixi</th>
                                    </tr>
                                </thead>
                                @*<tbody style="text-align: center" class="All_Index_View_Change_Tbody">
                                    @{ var count = 1; }
                                    @if (Model.DeviceToEmployees.Count() != 0)
                                    {
                                        @foreach (var devEmp in Model.DeviceToEmployees)
                                        {
                                            <tr>
                                                <th scope="row">@count</th>
                                                <td>@(devEmp.Emplooyee.Lastname+" "+ devEmp.Emplooyee.FirstName+devEmp.Emplooyee.FatherName)</td>
                                                <td>@devEmp.Emplooyee.IdCard</td>
                                                @if (devEmp.Emplooyee.Positions.Name.Length > 20)
                                                {
                                                    <td>@(devEmp.Emplooyee.Positions.Name.Substring(0, 20)+"...")</td>
                                                }
                                                else
                                                {
                                                    <td>@devEmp.Emplooyee.Positions.Name</td>
                                                }
                                                @if (devEmp.Device.DevicesType.Name.Length > 15)
                                                {
                                                    <td>@(devEmp.Device.DevicesType.Name.Substring(0, 15)+"...")</td>
                                                }
                                                else
                                                {
                                                    <td>@devEmp.Device.DevicesType.Name</td>
                                                }
                                                @if (devEmp.Device.Name.Length > 15)
                                                {
                                                    <td>@(devEmp.Device.Name.Substring(0, 15)+"...")</td>
                                                }
                                                else
                                                {
                                                    <td>@devEmp.Device.Name</td>
                                                }
                                                <td>@devEmp.Device.GivingTime.ToString("MM/dd/yyyy")</td>
                                                @if (@devEmp.Device.ReturnDate == null)
                                                {
                                                    <td>------</td>
                                                }
                                                else
                                                {
                                                    <td>@devEmp.Device.ReturnDate</td>
                                                }
                                            </tr>
                                            count++;
                                        }

                                    }
                                    else
                                    {
                                        <tr>
                                            <td scope="row">0</td>
                                            <td>Boşdur</td>
                                            <td>Boşdur</td>
                                            <td>Boşdur</td>
                                            <td>Boşdur</td>
                                            <td>Boşdur</td>
                                            <td>Boşdur</td>
                                            <td>Boşdur</td>
                                        </tr>
                                    }
                                </tbody>*@
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            @if (Model.DeviceToEmployees.Count() != 0)
            {
                <div class="card-footer">
                    <a asp-area="InternalHR" asp-controller="EmployeeDevice" asp-action="AllEmpDevice" class="btn All_Index_View_Change_Cart_Footer_A col-md-12">Bütün işçilərin qurğularının siyahısı</a>
                </div>
            }
        </div>


    </div>

    <!--content-wrapper-->
</div>
